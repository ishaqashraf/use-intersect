"use strict";var react=require("react");const initialOptions={root:null,rootMargin:"0px",threshold:[.05,.3,.6,.95]},useImpression=(e,r,t=!1)=>{const n=react.useRef(!1),c=react.useRef(),u=react.useRef(null),s=r||initialOptions,i=react.useCallback(r=>{(r[0]&&r[0].isIntersecting||!1)&&(e(),!n.current&&u.current&&t&&(u.current.disconnect(),u.current=null,n.current=!0))},[e,u,n]);return react.useEffect(()=>(n.current||u.current||(u.current=new IntersectionObserver(i,s),u.current.observe(c.current)),()=>{u.current&&(u.current.disconnect(),u.current=null)}),[i,s,c]),c};module.exports=useImpression;
